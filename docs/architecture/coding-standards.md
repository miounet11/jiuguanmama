# 编码标准

## 现有标准合规
**代码风格**: TypeScript + ESLint，严格类型检查
**代码检查规则**: 现有ESLint配置，添加更严格的规则
**测试模式**: 建立Jest单元测试 + Playwright端到端测试
**文档风格**: JSDoc注释 + Markdown文档

## 增强特定标准
- **LLM集成标准**: 所有AI调用必须包含错误处理和降级机制
- **多角色聊天标准**: 状态管理必须支持实时同步和冲突解决
- **监控标准**: 所有服务必须暴露健康检查端点和性能指标

## 关键集成规则
- **现有API兼容性**: 新端点遵循现有RESTful设计模式，响应格式保持一致
- **数据库集成**: 所有数据库操作使用Prisma ORM，保持事务一致性
- **错误处理**: 统一错误响应格式，包含错误码、消息和追踪信息
- **日志一致性**: 使用结构化日志格式，包含请求ID和用户上下文