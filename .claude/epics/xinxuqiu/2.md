---
id: "TASK-XINXUQIU-001"
title: "设计系统建立"
epic: "xinxuqiu"
description: "建立现代化设计系统，包含色彩主题、组件样式库和响应式断点系统"
type: "feature"
priority: "high"
status: "todo"
assignee: ""
created: "2025-09-19T08:33:11Z"
updated: 2025-09-19T08:50:02Z
estimated_hours: 16
actual_hours: 0
depends_on: []
parallel: []
tags: ["design-system", "ui", "theme", "responsive"]
---

# 设计系统建立

## 概述

建立完整的设计系统作为新体验的基础，包含现代化色彩主题、组件样式库和响应式断点系统，为后续UI升级提供统一的设计语言。

## 目标

- 建立现代化的色彩主题系统（亮色/暗色模式）
- 创建组件样式库和设计规范
- 建立响应式断点系统
- 定义排版系统和间距规范
- 创建设计标记（Design Tokens）

## 技术要求

### 色彩主题系统
- 基于 CSS 变量的主题切换机制
- 支持亮色/暗色模式无缝切换
- 语义化颜色命名（primary, secondary, accent, surface, etc.）
- 适配 Element Plus 主题变量

### 组件样式库
- 统一的组件设计规范
- 可复用的样式混合器（SCSS mixins）
- 组件状态样式（hover, active, disabled）
- 动画效果和过渡定义

### 响应式系统
- 移动优先的断点设计
- 流式布局和弹性网格
- 组件在不同屏幕尺寸的适配规则

## 实施细节

### 1. 设计标记定义
```scss
// 色彩系统
$colors: (
  primary: (#6366f1, #4f46e5, #4338ca),
  secondary: (#64748b, #475569, #334155),
  accent: (#f59e0b, #d97706, #b45309),
  success: (#10b981, #059669, #047857),
  warning: (#f59e0b, #d97706, #b45309),
  error: (#ef4444, #dc2626, #b91c1c),
  surface: (#ffffff, #f8fafc, #f1f5f9),
  background: (#ffffff, #f8fafc, #e2e8f0)
);

// 断点系统
$breakpoints: (
  xs: 0,
  sm: 640px,
  md: 768px,
  lg: 1024px,
  xl: 1280px,
  2xl: 1536px
);

// 间距系统
$spacing: (
  0: 0,
  1: 0.25rem,
  2: 0.5rem,
  3: 0.75rem,
  4: 1rem,
  6: 1.5rem,
  8: 2rem,
  12: 3rem,
  16: 4rem
);
```

### 2. 主题切换机制
```typescript
// 主题管理服务
export class ThemeService {
  private currentTheme: 'light' | 'dark' = 'light';

  toggleTheme(): void {
    this.currentTheme = this.currentTheme === 'light' ? 'dark' : 'light';
    this.applyTheme(this.currentTheme);
  }

  private applyTheme(theme: string): void {
    document.documentElement.setAttribute('data-theme', theme);
    localStorage.setItem('theme', theme);
  }
}
```

### 3. 组件样式规范
```scss
// 按钮组件混合器
@mixin button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-2) var(--spacing-4);
  border-radius: var(--radius-md);
  font-weight: 500;
  transition: all 0.2s ease;
  cursor: pointer;

  &:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }
}

// 卡片组件样式
@mixin card-base {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  padding: var(--spacing-6);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--color-border);

  &:hover {
    box-shadow: var(--shadow-md);
    border-color: var(--color-primary-300);
  }
}
```

## 验收标准

### 功能验收
- [ ] 完成亮色/暗色主题系统，支持一键切换
- [ ] 建立完整的色彩、间距、字体设计标记
- [ ] 创建5个以上核心组件的样式规范
- [ ] 实现响应式断点系统，支持6个断点
- [ ] 主题切换状态能够持久化保存

### 技术验收
- [ ] 所有样式基于 CSS 变量，支持动态切换
- [ ] SCSS 混合器可复用，减少代码重复
- [ ] 组件样式符合 BEM 命名规范
- [ ] 过渡动画流畅，性能良好
- [ ] 兼容 Element Plus 组件主题

### 质量验收
- [ ] 色彩对比度符合 WCAG 2.1 AA 标准
- [ ] 响应式适配在所有主流设备正常显示
- [ ] 主题切换无闪烁，体验流畅
- [ ] 代码结构清晰，注释完整
- [ ] 建立设计系统文档

## 影响范围

### 直接影响
- `apps/web/src/styles/` - 样式系统文件
- `apps/web/src/composables/` - 主题管理组合式函数
- `apps/web/src/components/` - 组件样式更新

### 相关文件
- `apps/web/src/App.vue` - 主题切换集成
- `apps/web/src/main.ts` - 主题初始化
- `apps/web/tailwind.config.js` - Tailwind 主题配置

## 风险评估

### 技术风险
- **中等**: Element Plus 主题变量冲突
- **低**: 浏览器兼容性问题
- **中等**: 现有组件样式迁移复杂度

### 缓解措施
- 使用 CSS 变量命名空间避免冲突
- 渐进式升级，保持向后兼容
- 建立样式迁移清单和测试用例

## 后续任务

- TASK-XINXUQIU-002: 基于设计系统重设计首页
- TASK-XINXUQIU-003: 应用设计系统升级角色卡片
- TASK-XINXUQIU-004: 所有页面统一应用新设计系统

---

*该任务是新体验架构的基础，将为后续所有UI升级提供统一的设计语言和技术基础。*
