---
id: "TASK-XINXUQIU-002"
title: "首页重设计"
epic: "xinxuqiu"
description: "基于新设计系统重设计首页，包含Hero区域、统计展示、精选内容和快速引导流程"
type: "feature"
priority: "high"
status: "todo"
assignee: ""
created: "2025-09-19T08:33:11Z"
updated: 2025-09-19T08:50:02Z
estimated_hours: 24
actual_hours: 0
depends_on: ["TASK-XINXUQIU-001"]
parallel: []
tags: ["homepage", "ui", "hero", "onboarding"]
---

# 首页重设计

## 概述

基于新建立的设计系统，完全重设计首页体验，打造现代化的Hero区域、动态统计展示、精选内容推荐和直观的快速引导流程，提升用户第一印象和转化率。

## 目标

- 设计吸引人的Hero区域，清晰传达产品价值
- 建立动态统计展示，体现平台活跃度
- 创建精选内容区域，展示优质角色和对话
- 设计快速引导流程，降低新用户上手门槛
- 优化页面性能，提升加载速度

## 技术要求

### Hero区域设计
- 响应式布局，适配所有设备
- 动态背景效果或微动画
- 清晰的价值主张和CTA按钮
- 产品截图/演示视频集成

### 统计展示模块
- 实时数据获取和展示
- 数字动画效果
- 图表可视化（可选）
- 缓存机制优化性能

### 精选内容区域
- 智能推荐算法
- 卡片式布局展示
- 无限滚动或分页
- 快速预览功能

### 快速引导
- 分步骤引导流程
- 交互式教程
- 进度指示器
- 跳过选项

## 实施细节

### 1. Hero区域组件
```vue
<template>
  <section class="hero-section">
    <div class="hero-background">
      <div class="hero-animation"></div>
    </div>

    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">{{ $t('hero.title') }}</h1>
        <p class="hero-subtitle">{{ $t('hero.subtitle') }}</p>

        <div class="hero-actions">
          <el-button
            type="primary"
            size="large"
            @click="handleStartChat"
          >
            {{ $t('hero.startChat') }}
          </el-button>

          <el-button
            size="large"
            @click="handleLearnMore"
          >
            {{ $t('hero.learnMore') }}
          </el-button>
        </div>
      </div>

      <div class="hero-media">
        <img
          :src="heroImage"
          :alt="$t('hero.imageAlt')"
          class="hero-image"
        />
      </div>
    </div>
  </section>
</template>

<style lang="scss" scoped>
.hero-section {
  position: relative;
  min-height: 80vh;
  display: flex;
  align-items: center;
  overflow: hidden;
}

.hero-background {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    var(--color-primary-50) 0%,
    var(--color-primary-100) 100%
  );
}

.hero-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-16);
  align-items: center;
  container: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--spacing-6);

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    text-align: center;
  }
}

.hero-title {
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: var(--spacing-6);
  color: var(--color-text-primary);
}

.hero-actions {
  display: flex;
  gap: var(--spacing-4);
  margin-top: var(--spacing-8);

  @media (max-width: 640px) {
    flex-direction: column;
  }
}
</style>
```

### 2. 统计展示组件
```vue
<template>
  <section class="stats-section">
    <div class="stats-container">
      <div
        v-for="stat in stats"
        :key="stat.key"
        class="stat-item"
      >
        <div class="stat-number">
          <CountUp
            :value="stat.value"
            :duration="2000"
          />
          <span v-if="stat.suffix">{{ stat.suffix }}</span>
        </div>
        <div class="stat-label">{{ stat.label }}</div>
      </div>
    </div>
  </section>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';
import CountUp from '@/components/ui/CountUp.vue';
import { statisticsApi } from '@/api/statistics';

interface Statistic {
  key: string;
  label: string;
  value: number;
  suffix?: string;
}

const stats = ref<Statistic[]>([
  { key: 'characters', label: '活跃角色', value: 0 },
  { key: 'conversations', label: '对话次数', value: 0, suffix: 'M+' },
  { key: 'users', label: '注册用户', value: 0, suffix: 'K+' },
  { key: 'messages', label: '消息总数', value: 0, suffix: 'M+' }
]);

onMounted(async () => {
  try {
    const data = await statisticsApi.getPublicStats();
    stats.value = stats.value.map(stat => ({
      ...stat,
      value: data[stat.key] || 0
    }));
  } catch (error) {
    console.error('获取统计数据失败:', error);
  }
});
</script>

<style lang="scss" scoped>
.stats-section {
  padding: var(--spacing-16) 0;
  background: var(--color-surface);
}

.stats-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--spacing-8);
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--spacing-6);
}

.stat-item {
  text-align: center;
  padding: var(--spacing-6);
  border-radius: var(--radius-lg);
  background: var(--color-background);
  border: 1px solid var(--color-border);
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }
}

.stat-number {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--color-primary-600);
  margin-bottom: var(--spacing-2);
}

.stat-label {
  color: var(--color-text-secondary);
  font-weight: 500;
}
</style>
```

### 3. 精选内容组件
```vue
<template>
  <section class="featured-section">
    <div class="featured-container">
      <header class="featured-header">
        <h2 class="featured-title">{{ $t('featured.title') }}</h2>
        <p class="featured-subtitle">{{ $t('featured.subtitle') }}</p>
      </header>

      <div class="featured-tabs">
        <el-tabs v-model="activeTab" @tab-change="handleTabChange">
          <el-tab-pane
            v-for="tab in tabs"
            :key="tab.key"
            :label="tab.label"
            :name="tab.key"
          >
            <div class="featured-grid">
              <CharacterCard
                v-for="character in featuredContent[tab.key]"
                :key="character.id"
                :character="character"
                :size="'medium'"
                :show-stats="true"
                @click="handleCharacterClick(character)"
              />
            </div>
          </el-tab-pane>
        </el-tabs>
      </div>

      <div class="featured-actions">
        <el-button
          type="primary"
          @click="handleViewAll"
        >
          {{ $t('featured.viewAll') }}
        </el-button>
      </div>
    </div>
  </section>
</template>

<script setup lang="ts">
import { ref, reactive, onMounted } from 'vue';
import CharacterCard from '@/components/character/CharacterCard.vue';
import { characterApi } from '@/api/character';
import { useRouter } from 'vue-router';

const router = useRouter();

const activeTab = ref('trending');
const tabs = [
  { key: 'trending', label: '热门角色' },
  { key: 'latest', label: '最新角色' },
  { key: 'recommended', label: '推荐角色' }
];

const featuredContent = reactive({
  trending: [],
  latest: [],
  recommended: []
});

const handleTabChange = async (tabKey: string) => {
  if (!featuredContent[tabKey].length) {
    await loadFeaturedContent(tabKey);
  }
};

const loadFeaturedContent = async (type: string) => {
  try {
    const response = await characterApi.getFeatured(type, { limit: 8 });
    featuredContent[type] = response.data;
  } catch (error) {
    console.error(`获取${type}内容失败:`, error);
  }
};

const handleCharacterClick = (character: any) => {
  router.push(`/character/${character.id}`);
};

const handleViewAll = () => {
  router.push('/explore');
};

onMounted(() => {
  loadFeaturedContent('trending');
});
</script>

<style lang="scss" scoped>
.featured-section {
  padding: var(--spacing-16) 0;
  background: var(--color-background);
}

.featured-container {
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--spacing-6);
}

.featured-header {
  text-align: center;
  margin-bottom: var(--spacing-12);

  .featured-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: var(--spacing-4);
    color: var(--color-text-primary);
  }

  .featured-subtitle {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }
}

.featured-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: var(--spacing-6);
  margin-top: var(--spacing-8);
}

.featured-actions {
  text-align: center;
  margin-top: var(--spacing-12);
}
</style>
```

### 4. 快速引导组件
```vue
<template>
  <div v-if="showOnboarding" class="onboarding-overlay">
    <div class="onboarding-modal">
      <div class="onboarding-header">
        <h3>{{ currentStep.title }}</h3>
        <el-button
          text
          @click="skipOnboarding"
          class="skip-button"
        >
          跳过引导
        </el-button>
      </div>

      <div class="onboarding-content">
        <div class="step-illustration">
          <img :src="currentStep.image" :alt="currentStep.title" />
        </div>

        <div class="step-description">
          <p>{{ currentStep.description }}</p>
        </div>
      </div>

      <div class="onboarding-footer">
        <div class="step-indicator">
          <span
            v-for="(step, index) in onboardingSteps"
            :key="index"
            :class="['step-dot', { active: index === currentStepIndex }]"
          ></span>
        </div>

        <div class="step-actions">
          <el-button
            v-if="currentStepIndex > 0"
            @click="previousStep"
          >
            上一步
          </el-button>

          <el-button
            type="primary"
            @click="nextStep"
          >
            {{ isLastStep ? '开始体验' : '下一步' }}
          </el-button>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, computed, onMounted } from 'vue';
import { useUserStore } from '@/stores/user';

const userStore = useUserStore();

const showOnboarding = ref(false);
const currentStepIndex = ref(0);

const onboardingSteps = [
  {
    title: '欢迎来到 TavernAI Plus',
    description: '探索 AI 角色扮演的无限可能，与各种有趣的角色开始对话。',
    image: '/images/onboarding/welcome.svg'
  },
  {
    title: '发现精彩角色',
    description: '浏览我们精心策划的角色库，找到您感兴趣的对话伙伴。',
    image: '/images/onboarding/discover.svg'
  },
  {
    title: '开始对话',
    description: '点击角色卡片，立即开始沉浸式的 AI 对话体验。',
    image: '/images/onboarding/chat.svg'
  },
  {
    title: '创建专属角色',
    description: '使用我们的角色创建器，打造独一无二的 AI 角色。',
    image: '/images/onboarding/create.svg'
  }
];

const currentStep = computed(() => onboardingSteps[currentStepIndex.value]);
const isLastStep = computed(() => currentStepIndex.value === onboardingSteps.length - 1);

const nextStep = () => {
  if (isLastStep.value) {
    finishOnboarding();
  } else {
    currentStepIndex.value++;
  }
};

const previousStep = () => {
  if (currentStepIndex.value > 0) {
    currentStepIndex.value--;
  }
};

const skipOnboarding = () => {
  finishOnboarding();
};

const finishOnboarding = () => {
  showOnboarding.value = false;
  userStore.setOnboardingCompleted();
};

onMounted(() => {
  // 检查用户是否是首次访问
  if (!userStore.hasCompletedOnboarding) {
    showOnboarding.value = true;
  }
});
</script>
```

## 验收标准

### 功能验收
- [ ] Hero区域响应式设计，在所有设备正常显示
- [ ] 统计数据实时获取并动态展示
- [ ] 精选内容区域加载流畅，支持分类切换
- [ ] 快速引导流程完整，支持跳过和进度保存
- [ ] 所有交互元素可访问性良好

### 性能验收
- [ ] 首页首屏加载时间 < 2秒
- [ ] 图片懒加载，优化加载性能
- [ ] 数据请求有缓存机制
- [ ] 动画流畅，无卡顿现象
- [ ] 移动端体验优秀

### 视觉验收
- [ ] 设计符合新设计系统规范
- [ ] 色彩搭配和谐，视觉层次清晰
- [ ] 微动画自然，提升用户体验
- [ ] 暗色模式适配完整
- [ ] 跨浏览器兼容性良好

## 影响范围

### 直接影响
- `apps/web/src/views/Home.vue` - 首页主组件
- `apps/web/src/components/home/` - 首页相关组件
- `apps/web/src/api/statistics.ts` - 统计数据API

### 相关文件
- `apps/web/src/router/index.ts` - 路由配置
- `apps/web/src/stores/user.ts` - 用户状态管理
- `apps/web/src/i18n/` - 国际化文案

## 风险评估

### 技术风险
- **中等**: 统计数据API性能压力
- **低**: 动画效果性能影响
- **中等**: 大量图片资源影响加载速度

### 缓解措施
- 实施数据缓存和CDN加速
- 优化动画使用CSS transform
- 图片压缩和懒加载策略

## 后续任务

- TASK-XINXUQIU-003: 角色系统UI升级适配新首页
- TASK-XINXUQIU-004: 全站统一应用新设计系统
- TASK-XINXUQIU-005: 首页SEO和性能优化

---

*该任务将打造全新的用户第一印象，提升平台的专业形象和用户转化率。*
