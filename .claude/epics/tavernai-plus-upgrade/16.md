---
name: "æ¸è¿›å¼åŠŸèƒ½æŠ«éœ²"
status: pending
created: 2025-09-21T02:07:42Z
updated: 2025-09-22T02:30:03Z
github: https://github.com/miounet11/jiuguanbaba/issues/16
depends_on: [11, 12, 13]
parallel: false
conflicts_with: []
estimated_effort: M
estimated_hours: 28
epic: tavernai-plus-upgrade
tags: ["progressive-disclosure", "user-modes", "ui-simplification", "expert-features"]
---

# Task 006: æ¸è¿›å¼åŠŸèƒ½æŠ«éœ²

## æ¦‚è¿°

å®ç°ç®€æ´/ä¸“å®¶æ¨¡å¼åˆ‡æ¢æœºåˆ¶ï¼Œé€šè¿‡æ¸è¿›å¼æŠ«éœ²åŸåˆ™æ»¡è¶³ä¸åŒç”¨æˆ·ç¾¤ä½“çš„éœ€æ±‚ã€‚æ–°æ‰‹ç”¨æˆ·é»˜è®¤çœ‹åˆ°ç®€åŒ–çš„ç•Œé¢ä¸“æ³¨äºæ ¸å¿ƒåŠŸèƒ½ï¼Œä¸“å®¶ç”¨æˆ·å¯ä»¥åˆ‡æ¢åˆ°å®Œæ•´åŠŸèƒ½æ¨¡å¼ã€‚å»ºç«‹æ™ºèƒ½çš„åŠŸèƒ½å±•ç¤ºç­–ç•¥ï¼Œæ ¹æ®ç”¨æˆ·è¡Œä¸ºå’Œç†Ÿç»ƒç¨‹åº¦åŠ¨æ€è°ƒæ•´ç•Œé¢å¤æ‚åº¦ã€‚

## ç›®æ ‡

- å»ºç«‹åŒæ¨¡å¼UIç³»ç»Ÿï¼ˆç®€æ´æ¨¡å¼ + ä¸“å®¶æ¨¡å¼ï¼‰
- å®ç°åŸºäºç”¨æˆ·è¡Œä¸ºçš„æ™ºèƒ½æ¨¡å¼æ¨è
- å¼€å‘åŠŸèƒ½æ¸è¿›å¼å±•ç¤ºæœºåˆ¶
- ä¼˜åŒ–ä¸åŒç”¨æˆ·ç¾¤ä½“çš„å­¦ä¹ æ›²çº¿
- ä¿æŒæ‰€æœ‰åŠŸèƒ½çš„å®Œæ•´å¯è®¿é—®æ€§

## æŠ€æœ¯è¦æ±‚

### æ ¸å¿ƒçŠ¶æ€ç®¡ç†ç³»ç»Ÿ

#### 1. UserModeStore.ts - ç”¨æˆ·æ¨¡å¼çŠ¶æ€ç®¡ç†
```typescript
// stores/userModeStore.ts
export interface UserMode {
  current: 'simplified' | 'expert'
  experience: UserExperience
  preferences: UserPreferences
  featureUnlocks: FeatureUnlock[]
  transitionHistory: ModeTransition[]
}

export interface UserExperience {
  totalSessions: number
  messagesCount: number
  charactersUsed: number
  featuresUsed: string[]
  expertFeaturesUsed: string[]
  lastActiveDate: Date
  skillLevel: 'beginner' | 'intermediate' | 'advanced' | 'expert'
}

export interface FeatureUnlock {
  featureId: string
  unlockedAt: Date
  trigger: 'usage' | 'time' | 'manual' | 'achievement'
  condition: string
}

export const useUserModeStore = defineStore('userMode', () => {
  const currentMode = ref<'simplified' | 'expert'>('simplified')
  const userExperience = ref<UserExperience>({
    totalSessions: 0,
    messagesCount: 0,
    charactersUsed: 0,
    featuresUsed: [],
    expertFeaturesUsed: [],
    lastActiveDate: new Date(),
    skillLevel: 'beginner'
  })

  const availableFeatures = computed(() => {
    return getAvailableFeaturesForMode(currentMode.value, userExperience.value)
  })

  const shouldSuggestModeUpgrade = computed(() => {
    return analyzeUpgradeOpportunity(userExperience.value, currentMode.value)
  })

  /**
   * æ™ºèƒ½æ¨¡å¼æ¨èç®—æ³•
   * åŸºäºç”¨æˆ·è¡Œä¸ºåˆ†ææ˜¯å¦åº”è¯¥æ¨èå‡çº§åˆ°ä¸“å®¶æ¨¡å¼
   */
  const analyzeUpgradeOpportunity = (
    experience: UserExperience,
    currentMode: string
  ): boolean => {
    if (currentMode === 'expert') return false

    const upgradeSignals = [
      experience.totalSessions >= 10,
      experience.messagesCount >= 100,
      experience.charactersUsed >= 5,
      experience.featuresUsed.length >= 8,
      experience.expertFeaturesUsed.length >= 2
    ]

    const signalCount = upgradeSignals.filter(Boolean).length
    return signalCount >= 3 // è‡³å°‘æ»¡è¶³3ä¸ªæ¡ä»¶
  }

  /**
   * åˆ‡æ¢ç”¨æˆ·æ¨¡å¼
   */
  const switchMode = async (newMode: 'simplified' | 'expert', reason?: string) => {
    const oldMode = currentMode.value
    currentMode.value = newMode

    // è®°å½•åˆ‡æ¢å†å²
    await recordModeTransition({
      from: oldMode,
      to: newMode,
      timestamp: new Date(),
      reason: reason || 'manual',
      userInitiated: !reason
    })

    // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨å’ŒæœåŠ¡å™¨
    await saveModePreference(newMode)

    // è§¦å‘ç•Œé¢é‡æ–°æ¸²æŸ“
    await nextTick()

    // æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢å¼•å¯¼
    if (newMode === 'expert' && oldMode === 'simplified') {
      showExpertModeGuide()
    }
  }

  /**
   * è®°å½•åŠŸèƒ½ä½¿ç”¨æƒ…å†µ
   */
  const recordFeatureUsage = (featureId: string, isExpertFeature = false) => {
    if (!userExperience.value.featuresUsed.includes(featureId)) {
      userExperience.value.featuresUsed.push(featureId)
    }

    if (isExpertFeature && !userExperience.value.expertFeaturesUsed.includes(featureId)) {
      userExperience.value.expertFeaturesUsed.push(featureId)
    }

    // æ›´æ–°æŠ€èƒ½æ°´å¹³
    updateSkillLevel()

    // æ£€æŸ¥æ˜¯å¦æœ‰æ–°åŠŸèƒ½è§£é”
    checkFeatureUnlocks(featureId)
  }

  /**
   * åŠ¨æ€æ›´æ–°ç”¨æˆ·æŠ€èƒ½æ°´å¹³
   */
  const updateSkillLevel = () => {
    const exp = userExperience.value
    const totalUsage = exp.totalSessions + exp.messagesCount / 10 + exp.charactersUsed * 2

    if (totalUsage >= 200 && exp.expertFeaturesUsed.length >= 5) {
      exp.skillLevel = 'expert'
    } else if (totalUsage >= 100 && exp.featuresUsed.length >= 10) {
      exp.skillLevel = 'advanced'
    } else if (totalUsage >= 50 && exp.featuresUsed.length >= 5) {
      exp.skillLevel = 'intermediate'
    } else {
      exp.skillLevel = 'beginner'
    }
  }

  /**
   * æ£€æŸ¥åŠŸèƒ½è§£é”æ¡ä»¶
   */
  const checkFeatureUnlocks = (triggerFeatureId: string) => {
    const unlockRules = getFeatureUnlockRules()

    for (const rule of unlockRules) {
      if (isUnlockConditionMet(rule, userExperience.value, triggerFeatureId)) {
        unlockFeature(rule.featureId, rule.trigger, rule.condition)
      }
    }
  }

  return {
    currentMode: readonly(currentMode),
    userExperience: readonly(userExperience),
    availableFeatures,
    shouldSuggestModeUpgrade,
    switchMode,
    recordFeatureUsage,
    updateSkillLevel
  }
})
```

#### 2. ProgressiveDisclosure.vue - æ¸è¿›å¼æŠ«éœ²æ§åˆ¶ç»„ä»¶
```vue
<template>
  <div class="progressive-disclosure-wrapper">
    <!-- æ¨¡å¼åˆ‡æ¢å™¨ -->
    <div class="mode-switcher" v-if="showModeSwitcher">
      <el-switch
        v-model="isExpertMode"
        @change="handleModeSwitch"
        active-text="ä¸“å®¶æ¨¡å¼"
        inactive-text="ç®€æ´æ¨¡å¼"
        :active-icon="Setting"
        :inactive-icon="User"
        size="small"
      />

      <!-- æ¨¡å¼è¯´æ˜ -->
      <el-tooltip :content="modeDescription" placement="bottom">
        <el-icon class="mode-info"><QuestionFilled /></el-icon>
      </el-tooltip>
    </div>

    <!-- åŠŸèƒ½æ¸è¿›æŠ«éœ²å®¹å™¨ -->
    <div class="feature-container" :class="containerClass">
      <slot
        :visible-features="visibleFeatures"
        :feature-state="featureState"
        :unlock-feature="unlockFeature"
      />
    </div>

    <!-- å‡çº§å»ºè®®æç¤º -->
    <el-alert
      v-if="showUpgradeSuggestion"
      title="å‘ç°æ›´å¤šåŠŸèƒ½"
      type="info"
      :description="upgradeSuggestionText"
      show-icon
      :closable="true"
      @close="dismissUpgradeSuggestion"
    >
      <template #default>
        <div class="upgrade-suggestion">
          <p>{{ upgradeSuggestionText }}</p>
          <div class="suggestion-actions">
            <el-button size="small" type="primary" @click="upgradeToExpertMode">
              åˆ‡æ¢åˆ°ä¸“å®¶æ¨¡å¼
            </el-button>
            <el-button size="small" @click="dismissUpgradeSuggestion">
              ç¨åæé†’
            </el-button>
          </div>
        </div>
      </template>
    </el-alert>

    <!-- æ–°åŠŸèƒ½è§£é”é€šçŸ¥ -->
    <transition name="feature-unlock">
      <div v-if="showUnlockNotification" class="feature-unlock-notification">
        <el-icon class="unlock-icon"><Star /></el-icon>
        <div class="unlock-content">
          <h4>ğŸ‰ è§£é”æ–°åŠŸèƒ½</h4>
          <p>{{ latestUnlockedFeature?.name }}</p>
          <small>{{ latestUnlockedFeature?.description }}</small>
        </div>
        <el-button size="small" @click="dismissUnlockNotification">çŸ¥é“äº†</el-button>
      </div>
    </transition>
  </div>
</template>

<script setup lang="ts">
import { computed, ref, watch } from 'vue'
import { useUserModeStore } from '@/stores/userModeStore'
import { getFeatureManifest } from '@/utils/featureManifest'

interface Props {
  featureScope?: string
  allowModeSwitch?: boolean
  showUpgradeSuggestions?: boolean
}

const props = withDefaults(defineProps<Props>(), {
  featureScope: 'global',
  allowModeSwitch: true,
  showUpgradeSuggestions: true
})

const userModeStore = useUserModeStore()
const showUnlockNotification = ref(false)
const latestUnlockedFeature = ref<any>(null)

const isExpertMode = computed({
  get: () => userModeStore.currentMode === 'expert',
  set: (value) => {
    const newMode = value ? 'expert' : 'simplified'
    userModeStore.switchMode(newMode, 'user-toggle')
  }
})

const showModeSwitcher = computed(() => {
  return props.allowModeSwitch && (
    isExpertMode.value ||
    userModeStore.shouldSuggestModeUpgrade
  )
})

const modeDescription = computed(() => {
  return isExpertMode.value
    ? 'ä¸“å®¶æ¨¡å¼ï¼šæ˜¾ç¤ºæ‰€æœ‰é«˜çº§åŠŸèƒ½å’Œè¯¦ç»†æ§åˆ¶é€‰é¡¹'
    : 'ç®€æ´æ¨¡å¼ï¼šåªæ˜¾ç¤ºæ ¸å¿ƒåŠŸèƒ½ï¼Œç•Œé¢æ›´åŠ ç®€æ´'
})

const containerClass = computed(() => ({
  'simplified-mode': !isExpertMode.value,
  'expert-mode': isExpertMode.value,
  [`scope-${props.featureScope}`]: true
}))

const visibleFeatures = computed(() => {
  const manifest = getFeatureManifest(props.featureScope)
  const currentMode = userModeStore.currentMode

  return manifest.filter(feature => {
    // ç®€æ´æ¨¡å¼ä¸‹åªæ˜¾ç¤ºæ ¸å¿ƒåŠŸèƒ½
    if (currentMode === 'simplified') {
      return feature.coreFeature || feature.unlockedInSimplified
    }
    // ä¸“å®¶æ¨¡å¼æ˜¾ç¤ºæ‰€æœ‰åŠŸèƒ½
    return true
  })
})

const featureState = computed(() => {
  const state = new Map()

  visibleFeatures.value.forEach(feature => {
    state.set(feature.id, {
      visible: true,
      enabled: isFeatureEnabled(feature),
      highlighted: isFeatureNewlyUnlocked(feature),
      description: getFeatureDescription(feature, isExpertMode.value)
    })
  })

  return state
})

const showUpgradeSuggestion = computed(() => {
  return props.showUpgradeSuggestions &&
         !isExpertMode.value &&
         userModeStore.shouldSuggestModeUpgrade
})

const upgradeSuggestionText = computed(() => {
  const expertFeatures = userModeStore.userExperience.expertFeaturesUsed.length
  const totalSessions = userModeStore.userExperience.totalSessions

  return `æ‚¨å·²ç»ä½¿ç”¨äº† ${expertFeatures} ä¸ªé«˜çº§åŠŸèƒ½ï¼Œè¿›è¡Œäº† ${totalSessions} æ¬¡ä¼šè¯ã€‚` +
         `åˆ‡æ¢åˆ°ä¸“å®¶æ¨¡å¼å¯ä»¥è·å¾—å®Œæ•´çš„æ§åˆ¶èƒ½åŠ›å’Œæ›´å¤šå®šåˆ¶é€‰é¡¹ã€‚`
})

/**
 * å¤„ç†æ¨¡å¼åˆ‡æ¢
 */
const handleModeSwitch = (isExpert: boolean) => {
  const reason = isExpert ? 'upgrade-suggestion' : 'simplify-preference'
  userModeStore.recordFeatureUsage('mode-switch', true)
}

/**
 * å‡çº§åˆ°ä¸“å®¶æ¨¡å¼
 */
const upgradeToExpertMode = () => {
  isExpertMode.value = true
  userModeStore.recordFeatureUsage('upgrade-from-suggestion', true)
}

/**
 * è§£é”ç‰¹å®šåŠŸèƒ½
 */
const unlockFeature = (featureId: string) => {
  const feature = getFeatureManifest(props.featureScope)
    .find(f => f.id === featureId)

  if (feature) {
    latestUnlockedFeature.value = feature
    showUnlockNotification.value = true

    userModeStore.recordFeatureUsage(featureId, feature.isExpertFeature)
  }
}

/**
 * æ£€æŸ¥åŠŸèƒ½æ˜¯å¦å¯ç”¨
 */
const isFeatureEnabled = (feature: any): boolean => {
  const userExp = userModeStore.userExperience

  // æ£€æŸ¥è§£é”æ¡ä»¶
  if (feature.unlockCondition) {
    return evaluateUnlockCondition(feature.unlockCondition, userExp)
  }

  return true
}

/**
 * æ£€æŸ¥åŠŸèƒ½æ˜¯å¦ä¸ºæ–°è§£é”
 */
const isFeatureNewlyUnlocked = (feature: any): boolean => {
  // æ£€æŸ¥æœ€è¿‘3å¤©å†…æ˜¯å¦è§£é”äº†æ­¤åŠŸèƒ½
  const recentUnlocks = userModeStore.userExperience.featuresUsed
    .filter(f => Date.now() - new Date().getTime() < 3 * 24 * 60 * 60 * 1000)

  return recentUnlocks.includes(feature.id)
}

/**
 * è·å–åŠŸèƒ½æè¿°
 */
const getFeatureDescription = (feature: any, isExpertMode: boolean): string => {
  return isExpertMode ? feature.expertDescription : feature.simpleDescription
}

/**
 * è¯„ä¼°è§£é”æ¡ä»¶
 */
const evaluateUnlockCondition = (condition: string, userExp: UserExperience): boolean => {
  // ç®€å•çš„æ¡ä»¶è¯„ä¼°å™¨
  try {
    const context = {
      sessions: userExp.totalSessions,
      messages: userExp.messagesCount,
      characters: userExp.charactersUsed,
      features: userExp.featuresUsed.length,
      skillLevel: userExp.skillLevel
    }

    // ä½¿ç”¨å®‰å…¨çš„æ¡ä»¶è¯„ä¼°
    return evaluateConditionSafely(condition, context)
  } catch (error) {
    console.error('æ¡ä»¶è¯„ä¼°å¤±è´¥:', error)
    return false
  }
}

const dismissUpgradeSuggestion = () => {
  // æš‚æ—¶éšè—å‡çº§å»ºè®®ï¼Œ24å°æ—¶åå†æ¬¡æ˜¾ç¤º
  localStorage.setItem('upgradeSuggestionDismissed', Date.now().toString())
}

const dismissUnlockNotification = () => {
  showUnlockNotification.value = false
  latestUnlockedFeature.value = null
}

// ç›‘å¬åŠŸèƒ½è§£é”äº‹ä»¶
watch(() => userModeStore.userExperience.featuresUsed, (newFeatures, oldFeatures) => {
  if (newFeatures.length > oldFeatures.length) {
    const newestFeature = newFeatures[newFeatures.length - 1]
    const feature = getFeatureManifest().find(f => f.id === newestFeature)
    if (feature && feature.showUnlockNotification) {
      unlockFeature(newestFeature)
    }
  }
}, { deep: true })
</script>

<style scoped lang="scss">
.progressive-disclosure-wrapper {
  position: relative;

  .mode-switcher {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 16px;
    padding: 8px 12px;
    background: var(--el-fill-color-lighter);
    border-radius: 6px;
    font-size: 13px;

    .mode-info {
      color: var(--el-text-color-secondary);
      cursor: help;
    }
  }

  .feature-container {
    transition: all 0.3s ease;

    &.simplified-mode {
      // ç®€åŒ–æ¨¡å¼æ ·å¼
      .expert-only {
        display: none !important;
      }

      .feature-item {
        margin-bottom: 8px;
      }
    }

    &.expert-mode {
      // ä¸“å®¶æ¨¡å¼æ ·å¼
      .feature-item {
        margin-bottom: 12px;

        &.expert-feature {
          border-left: 3px solid var(--el-color-primary);
          padding-left: 12px;
        }
      }
    }
  }

  .upgrade-suggestion {
    .suggestion-actions {
      margin-top: 12px;
      display: flex;
      gap: 8px;
    }
  }

  .feature-unlock-notification {
    position: fixed;
    top: 80px;
    right: 20px;
    background: var(--el-bg-color);
    border: 1px solid var(--el-color-primary);
    border-radius: 8px;
    padding: 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    display: flex;
    align-items: center;
    gap: 12px;
    max-width: 320px;
    z-index: 2000;

    .unlock-icon {
      color: var(--el-color-warning);
      font-size: 24px;
    }

    .unlock-content {
      flex: 1;

      h4 {
        margin: 0 0 4px 0;
        color: var(--el-text-color-primary);
        font-size: 14px;
      }

      p {
        margin: 0 0 4px 0;
        font-weight: 600;
        color: var(--el-color-primary);
      }

      small {
        color: var(--el-text-color-secondary);
        line-height: 1.3;
      }
    }
  }
}

.feature-unlock-enter-active,
.feature-unlock-leave-active {
  transition: all 0.3s ease;
}

.feature-unlock-enter-from {
  transform: translateX(100%);
  opacity: 0;
}

.feature-unlock-leave-to {
  transform: translateX(100%);
  opacity: 0;
}
</style>
```

#### 3. åŠŸèƒ½æ¸…å•ç®¡ç† - featureManifest.ts
```typescript
// utils/featureManifest.ts
export interface FeatureDefinition {
  id: string
  name: string
  simpleDescription: string
  expertDescription: string
  category: 'core' | 'advanced' | 'expert'
  coreFeature: boolean
  isExpertFeature: boolean
  scope: string[]
  unlockCondition?: string
  dependencies?: string[]
  showUnlockNotification: boolean
  unlockedInSimplified?: boolean
}

export const FEATURE_MANIFEST: FeatureDefinition[] = [
  // è§’è‰²æµè§ˆåŠŸèƒ½
  {
    id: 'character-basic-browse',
    name: 'è§’è‰²æµè§ˆ',
    simpleDescription: 'æµè§ˆå’Œé€‰æ‹©AIè§’è‰²',
    expertDescription: 'å®Œæ•´çš„è§’è‰²åº“æµè§ˆï¼ŒåŒ…å«è¯¦ç»†ç­›é€‰å’Œæ’åº',
    category: 'core',
    coreFeature: true,
    isExpertFeature: false,
    scope: ['character-discovery'],
    showUnlockNotification: false,
    unlockedInSimplified: true
  },
  {
    id: 'character-advanced-search',
    name: 'é«˜çº§æœç´¢',
    simpleDescription: 'æœç´¢ç‰¹å®šè§’è‰²',
    expertDescription: 'å¤šç»´åº¦æœç´¢ï¼šæ ‡ç­¾ã€æè¿°ã€è¯„åˆ†ã€åˆ›å»ºæ—¶é—´ç­‰',
    category: 'advanced',
    coreFeature: false,
    isExpertFeature: true,
    scope: ['character-discovery'],
    unlockCondition: 'characters >= 10 || sessions >= 5',
    showUnlockNotification: true
  },

  // å¯¹è¯åŠŸèƒ½
  {
    id: 'chat-basic',
    name: 'åŸºç¡€å¯¹è¯',
    simpleDescription: 'ä¸AIè§’è‰²å¯¹è¯',
    expertDescription: 'åŸºç¡€æ–‡æœ¬å¯¹è¯åŠŸèƒ½',
    category: 'core',
    coreFeature: true,
    isExpertFeature: false,
    scope: ['chat'],
    showUnlockNotification: false,
    unlockedInSimplified: true
  },
  {
    id: 'chat-message-editing',
    name: 'æ¶ˆæ¯ç¼–è¾‘',
    simpleDescription: 'ç¼–è¾‘å’Œé‡å‘æ¶ˆæ¯',
    expertDescription: 'ç¼–è¾‘å†å²æ¶ˆæ¯ï¼Œé‡æ–°ç”Ÿæˆå“åº”ï¼Œåˆ†æ”¯å¯¹è¯',
    category: 'advanced',
    coreFeature: false,
    isExpertFeature: true,
    scope: ['chat'],
    unlockCondition: 'messages >= 50',
    showUnlockNotification: true
  },
  {
    id: 'chat-ai-model-selection',
    name: 'AIæ¨¡å‹é€‰æ‹©',
    simpleDescription: 'é€‰æ‹©ä¸åŒçš„AIæ¨¡å‹',
    expertDescription: 'åˆ‡æ¢Grok-3ã€Claudeã€GPTç­‰ä¸åŒæ¨¡å‹ï¼Œè°ƒèŠ‚å‚æ•°',
    category: 'expert',
    coreFeature: false,
    isExpertFeature: true,
    scope: ['chat'],
    unlockCondition: 'sessions >= 15 && features >= 8',
    showUnlockNotification: true
  },

  // è§’è‰²åˆ›å»ºåŠŸèƒ½
  {
    id: 'character-creation-basic',
    name: 'è§’è‰²åˆ›å»º',
    simpleDescription: 'åˆ›å»ºè‡ªå®šä¹‰è§’è‰²',
    expertDescription: 'ä½¿ç”¨æ¨¡æ¿åˆ›å»ºè§’è‰²',
    category: 'advanced',
    coreFeature: false,
    isExpertFeature: false,
    scope: ['character-creation'],
    unlockCondition: 'sessions >= 3',
    showUnlockNotification: true,
    unlockedInSimplified: true
  },
  {
    id: 'character-ai-generation',
    name: 'AIè§’è‰²ç”Ÿæˆ',
    simpleDescription: 'è®©AIå¸®ä½ åˆ›å»ºè§’è‰²',
    expertDescription: 'AIé©±åŠ¨çš„è§’è‰²ç”Ÿæˆï¼ŒåŒ…å«å¤´åƒã€èƒŒæ™¯ã€æ€§æ ¼è®¾å®š',
    category: 'advanced',
    coreFeature: false,
    isExpertFeature: true,
    scope: ['character-creation'],
    unlockCondition: 'characters >= 2 && messages >= 100',
    dependencies: ['character-creation-basic'],
    showUnlockNotification: true
  },

  // ä¸–ç•Œè§‚åŠŸèƒ½
  {
    id: 'worldinfo-basic',
    name: 'ä¸–ç•Œè§‚ä¿¡æ¯',
    simpleDescription: 'æŸ¥çœ‹è§’è‰²èƒŒæ™¯ä¿¡æ¯',
    expertDescription: 'åŸºç¡€ä¸–ç•Œè§‚ä¿¡æ¯æŸ¥çœ‹',
    category: 'advanced',
    coreFeature: false,
    isExpertFeature: false,
    scope: ['chat', 'worldinfo'],
    unlockCondition: 'messages >= 30',
    showUnlockNotification: true
  },
  {
    id: 'worldinfo-dynamic-injection',
    name: 'åŠ¨æ€ä¸–ç•Œè§‚',
    simpleDescription: 'æ™ºèƒ½èƒŒæ™¯ä¿¡æ¯æç¤º',
    expertDescription: 'AIè‡ªåŠ¨åˆ†æå¯¹è¯å¹¶æä¾›ç›¸å…³ä¸–ç•Œè§‚ä¿¡æ¯',
    category: 'expert',
    coreFeature: false,
    isExpertFeature: true,
    scope: ['chat', 'worldinfo'],
    unlockCondition: 'sessions >= 10 && skillLevel >= "intermediate"',
    dependencies: ['worldinfo-basic'],
    showUnlockNotification: true
  },

  // é«˜çº§åŠŸèƒ½
  {
    id: 'chat-export',
    name: 'å¯¹è¯å¯¼å‡º',
    simpleDescription: 'ä¿å­˜å¯¹è¯è®°å½•',
    expertDescription: 'å¯¼å‡ºå¯¹è¯ä¸ºå¤šç§æ ¼å¼ï¼šTXTã€JSONã€PDFç­‰',
    category: 'expert',
    coreFeature: false,
    isExpertFeature: true,
    scope: ['chat'],
    unlockCondition: 'messages >= 200',
    showUnlockNotification: true
  },
  {
    id: 'character-sharing',
    name: 'è§’è‰²åˆ†äº«',
    simpleDescription: 'åˆ†äº«ä½ çš„è§’è‰²',
    expertDescription: 'å‘å¸ƒè§’è‰²åˆ°ç¤¾åŒºï¼Œè®¾ç½®åˆ†äº«æƒé™å’Œæ ‡ç­¾',
    category: 'expert',
    coreFeature: false,
    isExpertFeature: true,
    scope: ['character-creation'],
    unlockCondition: 'characters >= 5 && sessions >= 20',
    showUnlockNotification: true
  }
]

/**
 * è·å–æŒ‡å®šèŒƒå›´çš„åŠŸèƒ½æ¸…å•
 */
export function getFeatureManifest(scope = 'global'): FeatureDefinition[] {
  if (scope === 'global') {
    return FEATURE_MANIFEST
  }

  return FEATURE_MANIFEST.filter(feature =>
    feature.scope.includes(scope)
  )
}

/**
 * å®‰å…¨çš„æ¡ä»¶è¯„ä¼°å™¨
 */
export function evaluateConditionSafely(condition: string, context: any): boolean {
  try {
    // ç®€å•çš„æ¡ä»¶è§£æå™¨ï¼Œæ”¯æŒåŸºæœ¬æ¯”è¾ƒ
    const operators = ['>=', '<=', '>', '<', '==', '!=']

    for (const op of operators) {
      if (condition.includes(op)) {
        const [left, right] = condition.split(op).map(s => s.trim())
        const leftValue = context[left] || 0
        const rightValue = parseInt(right) || 0

        switch (op) {
          case '>=': return leftValue >= rightValue
          case '<=': return leftValue <= rightValue
          case '>': return leftValue > rightValue
          case '<': return leftValue < rightValue
          case '==': return leftValue == rightValue
          case '!=': return leftValue != rightValue
        }
      }
    }

    // æ£€æŸ¥å¸ƒå°”æ¡ä»¶
    if (condition.includes('&&')) {
      const conditions = condition.split('&&').map(c => c.trim())
      return conditions.every(c => evaluateConditionSafely(c, context))
    }

    if (condition.includes('||')) {
      const conditions = condition.split('||').map(c => c.trim())
      return conditions.some(c => evaluateConditionSafely(c, context))
    }

    return false
  } catch (error) {
    console.error('æ¡ä»¶è¯„ä¼°é”™è¯¯:', error)
    return false
  }
}

/**
 * è·å–åŠŸèƒ½è§£é”è§„åˆ™
 */
export function getFeatureUnlockRules() {
  return FEATURE_MANIFEST
    .filter(feature => feature.unlockCondition)
    .map(feature => ({
      featureId: feature.id,
      condition: feature.unlockCondition!,
      trigger: 'usage' as const,
      dependencies: feature.dependencies || []
    }))
}
```

## éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶æ ‡å‡†
- [ ] **æ¨¡å¼åˆ‡æ¢å®Œæ•´æ€§**ï¼šç”¨æˆ·èƒ½åœ¨ç®€æ´å’Œä¸“å®¶æ¨¡å¼é—´æ— ç¼åˆ‡æ¢ï¼Œç•Œé¢å“åº”åŠæ—¶
- [ ] **åŠŸèƒ½æ¸è¿›æŠ«éœ²**ï¼šæ–°æ‰‹ç”¨æˆ·åªçœ‹åˆ°æ ¸å¿ƒåŠŸèƒ½ï¼Œéšä½¿ç”¨ç»éªŒå¢é•¿é€æ­¥è§£é”
- [ ] **æ™ºèƒ½æ¨èå‡†ç¡®æ€§**ï¼šç³»ç»Ÿèƒ½å‡†ç¡®åˆ¤æ–­ç”¨æˆ·ä½•æ—¶å‡†å¤‡å‡çº§åˆ°ä¸“å®¶æ¨¡å¼
- [ ] **åŠŸèƒ½çŠ¶æ€æŒä¹…åŒ–**ï¼šç”¨æˆ·åå¥½å’Œè§£é”çŠ¶æ€åœ¨åˆ·æ–°é¡µé¢åä¿æŒä¸å˜
- [ ] **åŠŸèƒ½ä¾èµ–å…³ç³»æ­£ç¡®**ï¼šé«˜çº§åŠŸèƒ½çš„è§£é”éµå¾ªæ­£ç¡®çš„ä¾èµ–é¡ºåº

### æ€§èƒ½éªŒæ”¶æ ‡å‡†
- [ ] **æ¨¡å¼åˆ‡æ¢å“åº”é€Ÿåº¦**ï¼šæ¨¡å¼åˆ‡æ¢å®Œæˆæ—¶é—´<500msï¼ŒåŒ…å«ç•Œé¢é‡æ–°æ¸²æŸ“
- [ ] **åŠŸèƒ½çŠ¶æ€è®¡ç®—æ•ˆç‡**ï¼šåŠŸèƒ½å¯è§æ€§è®¡ç®—æ—¶é—´<100msï¼Œä¸é˜»å¡ç•Œé¢
- [ ] **æœ¬åœ°å­˜å‚¨ä¼˜åŒ–**ï¼šç”¨æˆ·åå¥½æ•°æ®å¤§å°<50KBï¼Œè¯»å†™é€Ÿåº¦<50ms
- [ ] **å†…å­˜ä½¿ç”¨æ§åˆ¶**ï¼šåŠŸèƒ½çŠ¶æ€ç®¡ç†å†…å­˜å ç”¨<10MB
- [ ] **åˆå§‹åŒ–é€Ÿåº¦**ï¼šé¡µé¢é¦–æ¬¡åŠ è½½æ—¶åŠŸèƒ½çŠ¶æ€åˆå§‹åŒ–<200ms

### ç”¨æˆ·ä½“éªŒéªŒæ”¶æ ‡å‡†
- [ ] **å­¦ä¹ æ›²çº¿ä¼˜åŒ–**ï¼šæ–°æ‰‹ç”¨æˆ·èƒ½åœ¨5åˆ†é’Ÿå†…æŒæ¡ç®€æ´æ¨¡å¼çš„æ‰€æœ‰åŠŸèƒ½
- [ ] **å‡çº§å¼•å¯¼æ¸…æ™°**ï¼šä¸“å®¶æ¨¡å¼å‡çº§å»ºè®®å‡ºç°æ—¶æœºæ°å½“ï¼Œè¯´æ˜æ¸…æ¥š
- [ ] **åŠŸèƒ½å‘ç°è‡ªç„¶**ï¼šç”¨æˆ·èƒ½é€šè¿‡è‡ªç„¶ä½¿ç”¨é€æ­¥å‘ç°æ–°åŠŸèƒ½
- [ ] **ç•Œé¢ä¸€è‡´æ€§**ï¼šä¸¤ç§æ¨¡å¼ä¸‹çš„ç•Œé¢é£æ ¼å’Œäº¤äº’ä¿æŒä¸€è‡´
- [ ] **é€€å›å‹å¥½æ€§**ï¼šç”¨æˆ·å¯ä»¥éšæ—¶ä»ä¸“å®¶æ¨¡å¼é€€å›åˆ°ç®€æ´æ¨¡å¼

### æ™ºèƒ½åŒ–éªŒæ”¶æ ‡å‡†
- [ ] **è¡Œä¸ºåˆ†æå‡†ç¡®**ï¼šç³»ç»Ÿèƒ½å‡†ç¡®åˆ†æç”¨æˆ·æŠ€èƒ½æ°´å¹³å’Œä½¿ç”¨æ¨¡å¼
- [ ] **æ¨èæ—¶æœºåˆé€‚**ï¼šåŠŸèƒ½è§£é”å’Œæ¨¡å¼å‡çº§å»ºè®®åœ¨æ°å½“æ—¶æœºå‡ºç°
- [ ] **ä¸ªæ€§åŒ–ç¨‹åº¦é«˜**ï¼šä¸åŒç”¨æˆ·çœ‹åˆ°çš„åŠŸèƒ½æŠ«éœ²è·¯å¾„æœ‰æ‰€å·®å¼‚
- [ ] **é€‚åº”æ€§å¼º**ï¼šç³»ç»Ÿèƒ½æ ¹æ®ç”¨æˆ·åé¦ˆè°ƒæ•´æ¨èç­–ç•¥
- [ ] **è§£é”æ¡ä»¶åˆç†**ï¼šåŠŸèƒ½è§£é”æ¡ä»¶æ—¢ä¸è¿‡äºç®€å•ä¹Ÿä¸è¿‡äºå›°éš¾

## å®æ–½ç»†èŠ‚

### æ–‡ä»¶ç»“æ„
```
apps/web/src/
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ userModeStore.ts                  # ç”¨æˆ·æ¨¡å¼çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ featureUnlockStore.ts             # åŠŸèƒ½è§£é”çŠ¶æ€ç®¡ç†
â”œâ”€â”€ components/progressive/
â”‚   â”œâ”€â”€ ProgressiveDisclosure.vue         # æ¸è¿›å¼æŠ«éœ²æ§åˆ¶ç»„ä»¶
â”‚   â”œâ”€â”€ ModeSwitch.vue                    # æ¨¡å¼åˆ‡æ¢å™¨
â”‚   â”œâ”€â”€ FeatureUnlockNotification.vue     # åŠŸèƒ½è§£é”é€šçŸ¥
â”‚   â””â”€â”€ UpgradeSuggestion.vue             # å‡çº§å»ºè®®ç»„ä»¶
â”œâ”€â”€ composables/
â”‚   â”œâ”€â”€ useProgressiveDisclosure.ts       # æ¸è¿›å¼æŠ«éœ²é€»è¾‘
â”‚   â”œâ”€â”€ useFeatureUnlock.ts               # åŠŸèƒ½è§£é”ç®¡ç†
â”‚   â””â”€â”€ useModeTransition.ts              # æ¨¡å¼åˆ‡æ¢åŠ¨ç”»
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ featureManifest.ts                # åŠŸèƒ½æ¸…å•ç®¡ç†
â”‚   â”œâ”€â”€ conditionEvaluator.ts             # æ¡ä»¶è¯„ä¼°å™¨
â”‚   â””â”€â”€ userBehaviorAnalyzer.ts           # ç”¨æˆ·è¡Œä¸ºåˆ†æ
â””â”€â”€ styles/
    â”œâ”€â”€ progressive-disclosure.scss        # æ¸è¿›å¼æŠ«éœ²æ ·å¼
    â””â”€â”€ mode-transitions.scss              # æ¨¡å¼åˆ‡æ¢åŠ¨ç”»
```

### ç»„ä»¶é›†æˆç¤ºä¾‹
```vue
<!-- åœ¨è§’è‰²å‘ç°é¡µé¢ä¸­ä½¿ç”¨ -->
<template>
  <ProgressiveDisclosure
    feature-scope="character-discovery"
    :allow-mode-switch="true"
    :show-upgrade-suggestions="true"
  >
    <template #default="{ visibleFeatures, featureState, unlockFeature }">
      <!-- åŸºç¡€è§’è‰²æµè§ˆ -->
      <CharacterGridMasonry
        v-if="featureState.get('character-basic-browse')?.visible"
        :characters="characters"
        @select="handleCharacterSelect"
      />

      <!-- é«˜çº§æœç´¢ -->
      <AdvancedSearchPanel
        v-if="featureState.get('character-advanced-search')?.visible"
        @search="handleAdvancedSearch"
        :highlighted="featureState.get('character-advanced-search')?.highlighted"
      />
    </template>
  </ProgressiveDisclosure>
</template>
```

### APIè®¾è®¡
```typescript
// APIç«¯ç‚¹è®¾è®¡
interface UserModeAPI {
  // è·å–ç”¨æˆ·æ¨¡å¼é…ç½®
  getUserMode(userId: string): Promise<UserMode>

  // æ›´æ–°ç”¨æˆ·æ¨¡å¼
  updateUserMode(userId: string, mode: UserMode): Promise<void>

  // è®°å½•åŠŸèƒ½ä½¿ç”¨
  recordFeatureUsage(userId: string, featureId: string): Promise<void>

  // è·å–åŠŸèƒ½è§£é”çŠ¶æ€
  getFeatureUnlocks(userId: string): Promise<FeatureUnlock[]>

  // åˆ†æå‡çº§å»ºè®®
  analyzeUpgradeOpportunity(userId: string): Promise<UpgradeAnalysis>
}
```

### æ•°æ®åº“æ‰©å±•
```sql
-- ç”¨æˆ·æ¨¡å¼è¡¨
CREATE TABLE user_modes (
  user_id VARCHAR(255) PRIMARY KEY,
  current_mode ENUM('simplified', 'expert') DEFAULT 'simplified',
  total_sessions INT DEFAULT 0,
  messages_count INT DEFAULT 0,
  characters_used INT DEFAULT 0,
  skill_level ENUM('beginner', 'intermediate', 'advanced', 'expert') DEFAULT 'beginner',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

  FOREIGN KEY (user_id) REFERENCES users(id)
);

-- åŠŸèƒ½ä½¿ç”¨è®°å½•è¡¨
CREATE TABLE feature_usage_logs (
  id VARCHAR(255) PRIMARY KEY,
  user_id VARCHAR(255),
  feature_id VARCHAR(100),
  is_expert_feature BOOLEAN DEFAULT FALSE,
  usage_count INT DEFAULT 1,
  first_used_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  last_used_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

  INDEX idx_user_feature (user_id, feature_id),
  INDEX idx_usage_time (last_used_at),
  FOREIGN KEY (user_id) REFERENCES users(id),
  UNIQUE KEY uk_user_feature (user_id, feature_id)
);

-- åŠŸèƒ½è§£é”è®°å½•è¡¨
CREATE TABLE feature_unlocks (
  id VARCHAR(255) PRIMARY KEY,
  user_id VARCHAR(255),
  feature_id VARCHAR(100),
  unlock_trigger ENUM('usage', 'time', 'manual', 'achievement'),
  unlock_condition TEXT,
  unlocked_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

  INDEX idx_user_unlock (user_id, unlocked_at),
  FOREIGN KEY (user_id) REFERENCES users(id)
);

-- æ¨¡å¼åˆ‡æ¢å†å²è¡¨
CREATE TABLE mode_transitions (
  id VARCHAR(255) PRIMARY KEY,
  user_id VARCHAR(255),
  from_mode ENUM('simplified', 'expert'),
  to_mode ENUM('simplified', 'expert'),
  reason VARCHAR(100),
  user_initiated BOOLEAN DEFAULT TRUE,
  transitioned_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

  INDEX idx_user_transitions (user_id, transitioned_at),
  FOREIGN KEY (user_id) REFERENCES users(id)
);
```

### é›†æˆæµ‹è¯•æ–¹æ¡ˆ
```typescript
// tests/integration/progressiveDisclosure.test.ts
describe('æ¸è¿›å¼åŠŸèƒ½æŠ«éœ²ç³»ç»Ÿ', () => {
  test('æ–°ç”¨æˆ·åº”è¯¥åªçœ‹åˆ°æ ¸å¿ƒåŠŸèƒ½', async () => {
    const newUser = await createTestUser()
    const userModeStore = useUserModeStore()

    // æ¨¡æ‹Ÿæ–°ç”¨æˆ·çŠ¶æ€
    userModeStore.userExperience.totalSessions = 0
    userModeStore.userExperience.messagesCount = 0

    const manifest = getFeatureManifest('character-discovery')
    const visibleFeatures = manifest.filter(f =>
      f.coreFeature || f.unlockedInSimplified
    )

    expect(visibleFeatures).toHaveLength(1) // åªæœ‰åŸºç¡€æµè§ˆåŠŸèƒ½
    expect(visibleFeatures[0].id).toBe('character-basic-browse')
  })

  test('åº”è¯¥åœ¨æ»¡è¶³æ¡ä»¶æ—¶è§£é”é«˜çº§åŠŸèƒ½', async () => {
    const userModeStore = useUserModeStore()

    // æ¨¡æ‹Ÿç”¨æˆ·è¾¾åˆ°è§£é”æ¡ä»¶
    userModeStore.userExperience.totalSessions = 10
    userModeStore.userExperience.charactersUsed = 15

    userModeStore.recordFeatureUsage('character-basic-browse')

    // æ£€æŸ¥æ˜¯å¦è§£é”äº†é«˜çº§æœç´¢
    const unlocked = isFeatureUnlocked('character-advanced-search', userModeStore.userExperience)
    expect(unlocked).toBe(true)
  })

  test('åº”è¯¥åœ¨é€‚å½“æ—¶æœºå»ºè®®å‡çº§åˆ°ä¸“å®¶æ¨¡å¼', async () => {
    const userModeStore = useUserModeStore()

    // æ¨¡æ‹Ÿä¸“å®¶ç”¨æˆ·è¡Œä¸º
    userModeStore.userExperience.totalSessions = 20
    userModeStore.userExperience.messagesCount = 500
    userModeStore.userExperience.expertFeaturesUsed = ['chat-ai-model-selection', 'character-ai-generation']

    const shouldSuggest = userModeStore.shouldSuggestModeUpgrade
    expect(shouldSuggest).toBe(true)
  })

  test('æ¨¡å¼åˆ‡æ¢åº”è¯¥ä¿æŒçŠ¶æ€ä¸€è‡´æ€§', async () => {
    const userModeStore = useUserModeStore()

    // åˆ‡æ¢åˆ°ä¸“å®¶æ¨¡å¼
    await userModeStore.switchMode('expert', 'test')
    expect(userModeStore.currentMode).toBe('expert')

    // æ£€æŸ¥åŠŸèƒ½å¯è§æ€§
    const manifest = getFeatureManifest('chat')
    const expertFeatures = manifest.filter(f => f.isExpertFeature)

    expertFeatures.forEach(feature => {
      const isVisible = isFeatureVisible(feature, 'expert', userModeStore.userExperience)
      expect(isVisible).toBe(true)
    })
  })
})
```

## Definition of Done

### ä»£ç è´¨é‡æ£€æŸ¥æ¸…å•
- [ ] **TypeScriptç±»å‹å®‰å…¨**ï¼šæ‰€æœ‰çŠ¶æ€ç®¡ç†å’Œç»„ä»¶ç±»å‹å®šä¹‰å®Œæ•´ï¼Œæ— anyä½¿ç”¨
- [ ] **å•å…ƒæµ‹è¯•å®Œæ•´**ï¼šæ ¸å¿ƒé€»è¾‘å’Œç»„ä»¶æµ‹è¯•è¦†ç›–ç‡>90%
- [ ] **é›†æˆæµ‹è¯•é€šè¿‡**ï¼šåŠŸèƒ½è§£é”ã€æ¨¡å¼åˆ‡æ¢ã€çŠ¶æ€æŒä¹…åŒ–çš„ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] **ä»£ç å®¡æŸ¥å®Œæˆ**ï¼šçŠ¶æ€ç®¡ç†é€»è¾‘å’Œç®—æ³•é€šè¿‡æŠ€æœ¯å®¡æŸ¥
- [ ] **æ€§èƒ½æµ‹è¯•è¾¾æ ‡**ï¼šæ¨¡å¼åˆ‡æ¢å’ŒåŠŸèƒ½è®¡ç®—æ€§èƒ½æ»¡è¶³è¦æ±‚

### åŠŸèƒ½å®Œæ•´æ€§æ£€æŸ¥æ¸…å•
- [ ] **åŠŸèƒ½æ¸…å•å®Œæ•´**ï¼šæ‰€æœ‰ç°æœ‰åŠŸèƒ½éƒ½å·²åŠ å…¥æ¸è¿›å¼æŠ«éœ²ç³»ç»Ÿ
- [ ] **è§£é”æ¡ä»¶åˆç†**ï¼šé€šè¿‡ç”¨æˆ·æµ‹è¯•éªŒè¯è§£é”æ¡ä»¶çš„åˆç†æ€§
- [ ] **æ¨¡å¼åˆ‡æ¢æ— ç¼**ï¼šä¸¤ç§æ¨¡å¼é—´åˆ‡æ¢ä¸ä¸¢å¤±ç”¨æˆ·çŠ¶æ€
- [ ] **æŒä¹…åŒ–å¯é **ï¼šç”¨æˆ·åå¥½åœ¨å„ç§åœºæ™¯ä¸‹éƒ½èƒ½æ­£ç¡®ä¿å­˜å’Œæ¢å¤
- [ ] **å›æ»šå®‰å…¨**ï¼šå¯ä»¥å®‰å…¨ç¦ç”¨æ¸è¿›å¼æŠ«éœ²ï¼Œæ¢å¤åˆ°åŸæœ‰ç•Œé¢

### ç”¨æˆ·ä½“éªŒæ£€æŸ¥æ¸…å•
- [ ] **æ–°æ‰‹å‹å¥½åº¦é«˜**ï¼šæ–°ç”¨æˆ·åœ¨ç®€æ´æ¨¡å¼ä¸‹å­¦ä¹ æˆæœ¬ä½
- [ ] **ä¸“å®¶æ•ˆç‡ä¿éšœ**ï¼šä¸“å®¶æ¨¡å¼ä¸å½±å“é«˜çº§ç”¨æˆ·çš„ä½¿ç”¨æ•ˆç‡
- [ ] **å‡çº§å¼•å¯¼è‡ªç„¶**ï¼šæ¨¡å¼å‡çº§å»ºè®®æ—¶æœºæ°å½“ï¼Œä¸å¹²æ‰°æ­£å¸¸ä½¿ç”¨
- [ ] **åŠŸèƒ½å‘ç°æµç•…**ï¼šç”¨æˆ·èƒ½é€šè¿‡è‡ªç„¶ä½¿ç”¨å‘ç°æ–°åŠŸèƒ½
- [ ] **åé¦ˆæœºåˆ¶å®Œå–„**ï¼šç”¨æˆ·å¯¹æ¨èå’Œè§£é”æœ‰æ˜ç¡®çš„åé¦ˆæ¸ é“

### æ™ºèƒ½åŒ–è´¨é‡æ£€æŸ¥æ¸…å•
- [ ] **è¡Œä¸ºåˆ†æå‡†ç¡®**ï¼šç”¨æˆ·æŠ€èƒ½æ°´å¹³åˆ¤æ–­å‡†ç¡®ç‡>85%
- [ ] **æ¨èç®—æ³•ä¼˜åŒ–**ï¼šå‡çº§å»ºè®®çš„æ¥å—ç‡>60%
- [ ] **ä¸ªæ€§åŒ–æ•ˆæœæ˜æ˜¾**ï¼šä¸åŒç”¨æˆ·ç¾¤ä½“çš„åŠŸèƒ½æŠ«éœ²è·¯å¾„æœ‰æ˜æ˜¾å·®å¼‚
- [ ] **å­¦ä¹ èƒ½åŠ›å¼º**ï¼šç³»ç»Ÿèƒ½æ ¹æ®ç”¨æˆ·è¡Œä¸ºè°ƒæ•´æ¨èç­–ç•¥
- [ ] **é¢„æµ‹å‡†ç¡®æ€§é«˜**ï¼šåŠŸèƒ½éœ€æ±‚é¢„æµ‹å‡†ç¡®ç‡>70%

### é›†æˆå…¼å®¹æ€§æ£€æŸ¥æ¸…å•
- [ ] **ä¸Task001-003å®Œç¾é›†æˆ**ï¼šä¸å½±å“è§’è‰²å‘ç°ã€å¯¹è¯æµç¨‹ã€èŠå¤©ç•Œé¢åŠŸèƒ½
- [ ] **å‘åå…¼å®¹**ï¼šç°æœ‰ç”¨æˆ·å‡çº§ååŠŸèƒ½ä½¿ç”¨ä¹ æƒ¯ä¸å—å½±å“
- [ ] **æ•°æ®è¿ç§»å®‰å…¨**ï¼šç°æœ‰ç”¨æˆ·æ•°æ®æ­£ç¡®è¿ç§»åˆ°æ–°çš„æ¨¡å¼ç³»ç»Ÿ
- [ ] **APIå…¼å®¹æ€§**ï¼šä¸ç ´åç°æœ‰çš„å‰ç«¯ç»„ä»¶æ¥å£
- [ ] **ä¸»é¢˜ç³»ç»Ÿå…¼å®¹**ï¼šåœ¨ä¸åŒä¸»é¢˜ä¸‹éƒ½èƒ½æ­£ç¡®æ˜¾ç¤º

### ç»´æŠ¤æ€§æ£€æŸ¥æ¸…å•
- [ ] **åŠŸèƒ½æ¸…å•æ˜“ç»´æŠ¤**ï¼šæ–°åŠŸèƒ½èƒ½è½»æ¾åŠ å…¥æ¸è¿›å¼æŠ«éœ²ç³»ç»Ÿ
- [ ] **æ¡ä»¶é…ç½®çµæ´»**ï¼šè§£é”æ¡ä»¶å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶è°ƒæ•´
- [ ] **ç›‘æ§æ•°æ®å®Œæ•´**ï¼šæä¾›è¯¦ç»†çš„ç”¨æˆ·è¡Œä¸ºå’ŒåŠŸèƒ½ä½¿ç”¨æ•°æ®
- [ ] **A/Bæµ‹è¯•æ”¯æŒ**ï¼šæ”¯æŒä¸åŒæŠ«éœ²ç­–ç•¥çš„å¯¹æ¯”æµ‹è¯•
- [ ] **æ–‡æ¡£å®Œå–„**ï¼šåŒ…å«åŠŸèƒ½é…ç½®ã€æ¡ä»¶è®¾ç½®ã€æ•…éšœæ’æŸ¥æ–‡æ¡£

---

*æœ¬ä»»åŠ¡æ˜¯TavernAI Plusç”¨æˆ·ä½“éªŒä¼˜åŒ–çš„å…³é”®ç»„æˆéƒ¨åˆ†ï¼Œé€šè¿‡æ™ºèƒ½çš„æ¸è¿›å¼åŠŸèƒ½æŠ«éœ²ï¼Œæˆ‘ä»¬å°†ä¸ºä¸åŒç»éªŒæ°´å¹³çš„ç”¨æˆ·æä¾›æœ€é€‚åˆçš„ç•Œé¢å¤æ‚åº¦ï¼Œç¡®ä¿æ–°æ‰‹ç”¨æˆ·ä¸è¢«å¤æ‚åŠŸèƒ½å›°æ‰°ï¼ŒåŒæ—¶ä¿è¯ä¸“å®¶ç”¨æˆ·è·å¾—å®Œæ•´çš„æ§åˆ¶èƒ½åŠ›ã€‚*