<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS å˜é‡è¯Šæ–­</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
            margin: 0;
        }

        .debug-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .css-var-test {
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
        }

        .mobile-test {
            background: var(--surface-1, #fff);
            color: var(--text-primary, #000);
            border: 1px solid var(--border-primary, #ddd);
        }

        .desktop-test {
            background: var(--surface-2, #f0f0f0);
            color: var(--text-secondary, #333);
            border: 1px solid var(--border-secondary, #ccc);
        }

        .info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
            border-left: 4px solid #2196f3;
        }

        .error {
            background: #ffebee;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
            border-left: 4px solid #f44336;
        }

        .success {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
            border-left: 4px solid #4caf50;
        }

        @media (min-width: 768px) {
            .mobile-only {
                display: none !important;
            }
            .desktop-only {
                display: block !important;
            }
        }

        @media (max-width: 767px) {
            .mobile-only {
                display: block !important;
            }
            .desktop-only {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <h1>CSS å˜é‡å’Œå“åº”å¼è¯Šæ–­</h1>

    <div class="debug-section">
        <h2>CSS å˜é‡æµ‹è¯•</h2>
        <div class="css-var-test mobile-test">
            <h3>ç§»åŠ¨ç«¯æ ·å¼ (åº”è¯¥æ˜¾ç¤º)</h3>
            <p>èƒŒæ™¯è‰²: var(--surface-1)</p>
            <p>æ–‡å­—è‰²: var(--text-primary)</p>
            <p>è¾¹æ¡†è‰²: var(--border-primary)</p>
        </div>

        <div class="css-var-test desktop-test">
            <h3>æ¡Œé¢ç«¯æ ·å¼ (åº”è¯¥æ˜¾ç¤º)</h3>
            <p>èƒŒæ™¯è‰²: var(--surface-2)</p>
            <p>æ–‡å­—è‰²: var(--text-secondary)</p>
            <p>è¾¹æ¡†è‰²: var(--border-secondary)</p>
        </div>
    </div>

    <div class="debug-section">
        <h2>å“åº”å¼ç±»æµ‹è¯•</h2>
        <div class="mobile-only css-var-test">
            <h3>ğŸ“± ç§»åŠ¨ç«¯ä¸“å±å†…å®¹</h3>
            <p>è¿™ä¸ªå†…å®¹åªåœ¨768pxä»¥ä¸‹æ˜¾ç¤º</p>
        </div>

        <div class="desktop-only css-var-test">
            <h3>ğŸ–¥ï¸ æ¡Œé¢ç«¯ä¸“å±å†…å®¹</h3>
            <p>è¿™ä¸ªå†…å®¹åªåœ¨768pxä»¥ä¸Šæ˜¾ç¤º</p>
        </div>

        <div class="css-var-test">
            <h3>ğŸ“±â¡ğŸ–¥ï¸ æ‰€æœ‰è®¾å¤‡é€šç”¨å†…å®¹</h3>
            <p>è¿™ä¸ªå†…å®¹åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šéƒ½æ˜¾ç¤º</p>
        </div>
    </div>

    <div class="debug-section">
        <h2>JavaScript è¯Šæ–­</h2>
        <p>å½“å‰çª—å£å®½åº¦: <span id="window-width">æ£€æµ‹ä¸­...</span>px</p>
        <p>æ–­ç‚¹çŠ¶æ€: <span id="breakpoint-status">æ£€æµ‹ä¸­...</span></p>
        <p>è®¾å¤‡ç±»å‹: <span id="device-type">æ£€æµ‹ä¸­...</span></p>
        <p>CSSå˜é‡æ”¯æŒ: <span id="css-support">æ£€æµ‹ä¸­...</span></p>
    </div>

    <div class="debug-section">
        <h2>æµ‹è¯•ç»“æœ</h2>
        <div id="test-results"></div>
    </div>

    <script>
        // æ£€æµ‹çª—å£å®½åº¦
        function updateWidth() {
            const width = window.innerWidth;
            const widthElement = document.getElementById('window-width');
            const breakpointElement = document.getElementById('breakpoint-status');
            const deviceElement = document.getElementById('device-type');

            widthElement.textContent = width;

            if (width < 768) {
                breakpointElement.textContent = 'ç§»åŠ¨ç«¯ (< 768px)';
                deviceElement.textContent = 'ç§»åŠ¨è®¾å¤‡';
            } else if (width < 1024) {
                breakpointElement.textContent = 'å¹³æ¿ç«¯ (768px - 1023px)';
                deviceElement.textContent = 'å¹³æ¿è®¾å¤‡';
            } else if (width < 1280) {
                breakpointElement.textContent = 'æ¡Œé¢ç«¯ (1024px - 1279px)';
                deviceElement.textContent = 'æ¡Œé¢è®¾å¤‡';
            } else {
                breakpointElement.textContent = 'å¤§å±æ¡Œé¢ (â‰¥ 1280px)';
                deviceElement.textContent = 'å¤§å±è®¾å¤‡';
            }
        }

        // æ£€æŸ¥CSSå˜é‡æ”¯æŒ
        function checkCSSVariables() {
            const testElement = document.querySelector('.css-var-test');
            const computedStyle = window.getComputedStyle(testElement);
            const supportElement = document.getElementById('css-support');

            const hasCSSVars = computedStyle.getPropertyValue('--surface-1') !== '';
            supportElement.textContent = hasCSSVars ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ';
        }

        // æ£€æŸ¥å“åº”å¼ç±»æ˜¯å¦å·¥ä½œ
        function testResponsiveClasses() {
            const mobileOnly = document.querySelector('.mobile-only');
            const desktopOnly = document.querySelector('.desktop-only');
            const results = document.getElementById('test-results');

            const mobileDisplay = window.getComputedStyle(mobileOnly).display;
            const desktopDisplay = window.getComputedStyle(desktopOnly).display;

            let html = '<h3>æµ‹è¯•ç»“æœ:</h3>';

            if (window.innerWidth < 768) {
                html += mobileDisplay !== 'none' ?
                    '<div class="success">âœ… ç§»åŠ¨ç«¯ç±»æ­£å¸¸å·¥ä½œ</div>' :
                    '<div class="error">âŒ ç§»åŠ¨ç«¯ç±»æœªç”Ÿæ•ˆ</div>';
                html += desktopDisplay === 'none' ?
                    '<div class="success">âœ… æ¡Œé¢ç«¯ç±»æ­£ç¡®éšè—</div>' :
                    '<div class="error">âŒ æ¡Œé¢ç«¯ç±»é”™è¯¯æ˜¾ç¤º</div>';
            } else {
                html += mobileDisplay === 'none' ?
                    '<div class="success">âœ… ç§»åŠ¨ç«¯ç±»æ­£ç¡®éšè—</div>' :
                    '<div class="error">âŒ ç§»åŠ¨ç«¯ç±»é”™è¯¯æ˜¾ç¤º</div>';
                html += desktopDisplay !== 'none' ?
                    '<div class="success">âœ… æ¡Œé¢ç«¯ç±»æ­£å¸¸å·¥ä½œ</div>' :
                    '<div class="error">âŒ æ¡Œé¢ç«¯ç±»æœªç”Ÿæ•ˆ</div>';
            }

            results.innerHTML = html;
        }

        // æ£€æŸ¥æ˜¯å¦æœ‰CSSæ–‡ä»¶åŠ è½½é”™è¯¯
        function checkCSSErrors() {
            const info = document.getElementById('css-info');
            if (info) {
                html += '<div class="info">æ£€æŸ¥æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„Consoleé¢æ¿æŸ¥çœ‹CSSåŠ è½½æƒ…å†µ</div>';
            }
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateWidth();
            checkCSSVariables();
            testResponsiveClasses();
            checkCSSErrors();

            // ç›‘å¬çª—å£å¤§å°å˜åŒ–
            window.addEventListener('resize', function() {
                updateWidth();
                testResponsiveClasses();
            });

            // å®šæœŸæ›´æ–°
            setInterval(updateWidth, 1000);
        });
    </script>
</body>
</html>